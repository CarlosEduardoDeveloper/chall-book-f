<div class="container app-container">

  <div class="d-flex justify-content-between mb-3">
    <h3>Livros Cadastrados</h3>
  </div>

  <div *ngIf="loading" class="alert alert-info">Carregando...</div>

  <table class="table table-striped" *ngIf="!loading">
    <thead>
      <tr>
        <th>Título</th>
        <th>Editora</th>
        <th>Ano</th>
        <th>Preço</th>
        <th>Autores</th>
        <th>Assuntos</th>
        <th>Ações</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let b of books">
        <td>{{ b.title }}</td>
        <td>{{ b.publisher }}</td>
        <td>{{ b.publicationYear }}</td>
        <td>{{ b.price | currency:'BRL' }}</td>
        <td>{{ formatAuthors(b.authors) }}</td>
        <td>{{ formatSubjects(b.subjects) }}</td>
        <td>
          <a class="btn btn-sm btn-warning" [routerLink]="['/books/edit', b.id]">Editar</a>
          <button class="btn btn-sm btn-danger ms-2" (click)="delete(b.id!)">Excluir</button>
        </td>
      </tr>
    </tbody>
  </table>

    <div class="mt-3 d-flex justify-content-end">
      <a class="btn btn-outline-success" [href]="downloadUrl" target="_blank" rel="noopener">Baixar</a>
    </div>

  </div>
